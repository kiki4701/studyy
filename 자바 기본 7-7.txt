자바 기본 7-7

멤버 변수(필드)의 종류

인스턴스 변수 : static이 붙지 않은 멤버변수 ex) name

인스턴스를 만들 때 마다 새로 만들어진다.

클래스 변수 : static이 붙은 멤버 변수 ex) count

static이 붙은 멤버변수는 인스턴스와 무관하게 클래스에 바로 접근해서 사용할 수 있고, 클래스 자체에 소속되어 있다.

클래스 변수는 자바 프로그램을 시작할 때 딱 1개가 만들어진다. 인스턴스와는 다르게 보통 여러곳에서 공유하는 목적으로 사용된다.


변수와 생명주기

- 지역 변수(매개변수 포함) : 지역변수는 스택 영역에 있는 스택 프레임 안에 보관된다. 메서드가 종료되면 스택 프레임도 제거 되는데 이때 해당 스택 프레임에 포함된 지역 변수도 함께 제거된다.

- 인스턴스 변수 : 인스턴스에 있는 멤버 변수를 인스턴스 변수라 한다. 인스턴스 변수는 힙 영역을 사용한다. 힙 영역은 GC가 발생하기 전까지는 생존한다.

- 클래스 변수 : 클래스 변수는 메서드 영역의 static 영역에 보관되는 변수이다. 메서드 영역은 프로그램 전체에서 사용하는 공용 공간이기 때문에 클래스 변수는 해당 클래스가 JVM에 로딩 되는 순간 생성되고 JVM이 종료될 때까지 생명주기가 이어진다.
static 이 정적이라는 이유는 바로 이러한 특징 때문이다. 힙 영역에 생성되는 인스턴스 변수는 동적으로 생성되고, 제거된다. 반면 static인 정적 변수는 거의 프로그램 실행 시점에 딱 만들어지고, 프로그램 종료 시점에 제거된다. 정적 변수는 이름 그대로 정적이다.


static 변수는 인스턴스를 통한 접근과 클래스를 통한 접근 둘 다 가능하다. 하지만 클래스를 통한 접근을 더 추천한다. 왜냐면 인스턴스를 통한 접근은 코드를 읽을 때 마치 인스턴스 변수에 접근하는 것처럼 오해할 수 있기 때문이다. 반면 클래스를 통해 접근하는 경우에는 해당 변수가 정적 변수인 것이 명확해 지기 때문에 클래스를 통해서 접근하는 것이 더 좋다.